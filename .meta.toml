# Generated from:
# https://github.com/zopefoundation/meta/tree/master/config/pure-python
[meta]
template = "pure-python"
commit-id = "b21fbbf2"

[python]
with-pypy = true
with-docs = true
with-sphinx-doctests = false
with-windows = true
with-future-python = true
with-macos = false

[coverage]
fail-under = 84

[manifest]
additional-rules = [
    "include *.md",
    "include *.yaml",
    "recursive-include src *.rst",
    "recursive-include src *.ini",
    ]

[flake8]
additional-config = [
    "builtins =",
    "    # src/zope/testrunner/tests/testrunner-ex/sample1/sampletests/test*.py stuff layerx in test.globs",
    "    layerx",
    "per-file-ignores =",
    "    # E701: multiple statements on one line (colon)",
    "    # TestLayerOrdering uses this for compact declaration of class graphs.",
    "    src/zope/testrunner/tests/test_runner.py: E701",
    "    # E702: multiple statements on one line (semicolon)",
    "    # Some tests use the \"import pdb; pdb.set_trace()\" idiom.",
    "    src/zope/testrunner/tests/testrunner-ex/sample2/sampletests_ntds.py: E702",
    "    src/zope/testrunner/tests/testrunner-ex/sample3/sampletests_d.py: E702",
    "    # F821: undefined name (y)",
    "    src/zope/testrunner/tests/testrunner-ex/sample2/sampletests_1.py: F821",
    ]

[tox]
additional-envlist = [
    "py{37,38,39,310,311,py3}-subunit",
    ]
testenv-deps = [
    ]
testenv-additional-extras = [
    "subunit: subunit",
    "coverage: subunit",
    ]
use-flake8 = true

[github-actions]
additional-config = [
    "- [\"3.7\",   \"py37-subunit\"]",
    "- [\"3.8\",   \"py38-subunit\"]",
    "- [\"3.9\",   \"py39-subunit\"]",
    "- [\"3.10\",  \"py310-subunit\"]",
    "- [\"3.11\",  \"py311-subunit\"]",
    "- [\"pypy-3.9\", \"pypy3-subunit\"]",
    ]
